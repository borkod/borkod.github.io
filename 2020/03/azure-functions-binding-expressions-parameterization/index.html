<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        Azure Functions Binding Expressions Parameterization - Borko D.
      </title>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  
  <meta http-equiv="window-target" content="_top" />
  
  
  <meta name="description" content="How to Parametrize Binding Expression for Azure Function" />
  <meta name="generator" content="Hugo 0.61.0 with theme pure" />
  <title>Azure Functions Binding Expressions Parameterization - Borko D.</title>
  
  
  <link rel="stylesheet" href="https://borkod.github.io/css/style.min.314d6490456e07943861ecb8c8548f817f1daf62a16c0ce1e7c47227e08bc45d.css">
  
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" async>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
  <meta property="og:title" content="Azure Functions Binding Expressions Parameterization" />
<meta property="og:description" content="How to Parametrize Binding Expression for Azure Function" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://borkod.github.io/2020/03/azure-functions-binding-expressions-parameterization/" />
<meta property="article:published_time" content="2020-03-09T08:05:23-05:00" />
<meta property="article:modified_time" content="2020-03-09T08:05:23-05:00" />
<meta itemprop="name" content="Azure Functions Binding Expressions Parameterization">
<meta itemprop="description" content="How to Parametrize Binding Expression for Azure Function">
<meta itemprop="datePublished" content="2020-03-09T08:05:23-05:00" />
<meta itemprop="dateModified" content="2020-03-09T08:05:23-05:00" />
<meta itemprop="wordCount" content="355">



<meta itemprop="keywords" content="Azure,Microsoft,Functions,Serverless,Tips and Tricks," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Azure Functions Binding Expressions Parameterization"/>
<meta name="twitter:description" content="How to Parametrize Binding Expression for Azure Function"/>

  <!--[if lte IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
    <![endif]-->

  <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->

</head>
  </head>
  

  <body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://borkod.github.io/" target="_blank">
            <img class="img-circle img-rotate" src="https://borkod.github.io/profile.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">Borko D.</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">Cloud Solutions Architect</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Ottawa, Canada</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="Type something..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="https://www.b3o.ca">
                    <i class="icon icon-users"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
            <li class="menu-item menu-item-donate">
                <a href="https://www.buymeacoffee.com/borkod">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">Buy Me A Coffee</span>
                </a>
            </li>
            <li class="menu-item menu-item-email">
                <a href="mailto:borkod@b3o.ca">
                    <i class="icon icon-email"></i>
                  <span class="menu-title">Contact</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/aws/" class="tag-list-link">aws</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/azure/" class="tag-list-link">azure</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/certification/" class="tag-list-link">certification</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/database/" class="tag-list-link">database</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/functions/" class="tag-list-link">functions</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/ignite/" class="tag-list-link">ignite</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/microsoft/" class="tag-list-link">microsoft</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/microsoft-ignite-the-tour/" class="tag-list-link">microsoft-ignite-the-tour</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/recap/" class="tag-list-link">recap</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/serverless/" class="tag-list-link">serverless</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/study-guide/" class="tag-list-link">study-guide</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/tips-and-tricks/" class="tag-list-link">tips-and-tricks</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://borkod.github.io/tags/toronto/" class="tag-list-link">toronto</a><span
                    class="tag-list-count">1</span></li>
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://borkod.github.io/2020/03/azure-functions-binding-expressions-parameterization/" class="title">Azure Functions Binding Expressions Parameterization</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-03-09 08:05:23 -0500 -0500" itemprop="datePublished">2020-03-09</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://borkod.github.io/2020/01/microsoft-ignite-the-tour-toronto-recap/" class="title">Microsoft Ignite the Tour: Toronto Recap</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-11 14:00:41 -0500 EST" itemprop="datePublished">2020-01-11</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://borkod.github.io/2020/01/aws-certified-database-specialty-exam-guide/" class="title">AWS Certified Database - Specialty Exam Preparation Guide and Study Tips</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-03 23:09:45 -0500 EST" itemprop="datePublished">2020-01-03</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/2020/03/azure-functions-binding-expressions-parameterization/"
    >Azure Functions Binding Expressions Parameterization</a
  >
</h1>

      <div class="article-meta">
        
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="https://borkod.github.io/2020/03/azure-functions-binding-expressions-parameterization/" class="article-date">
  <time datetime="2020-03-09 08:05:23 -0500 -0500" itemprop="datePublished">2020-03-09</time>
</a>
</span>
  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/tags/azure/"> Azure </a>
    <a class="article-tag-link" href="/tags/microsoft/"> Microsoft </a>
    <a class="article-tag-link" href="/tags/functions/"> Functions </a>
    <a class="article-tag-link" href="/tags/serverless/"> Serverless </a>
    <a class="article-tag-link" href="/tags/tips-and-tricks/"> Tips and Tricks </a>
  </span>

        <span class="post-comment"><i class="icon icon-comment"></i>&nbsp;<a href="/2020/03/azure-functions-binding-expressions-parameterization/#comments"
            class="article-comment-link">Comments</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount">Word Count: 355words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">Read Count: 2minutes </span>
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <p><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview">Azure Functions</a> is an event driven, serverless computing service provided by Microsoft Azure Cloud platform. Azure Functions allows developers to deploy code connecting to data sources or messaging solutions thus enabling easier implementation of event driven processing of messages. Azure Functions, like rest of serverless computing, is designed to accelerate and simplify application development by removing the responsibility of infrastructure management.</p>
<p>Azure Functions uses concept of <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-triggers-bindings">bindings</a> as a way of declaratively connecting another resource to the function. Bindings may be connected as input bindings, output bindings, or both, and can be used as triggers for message and event processing.</p>
<p>Few commonly used Azure Function bindings are:</p>
<ul>
<li>Blog Storage</li>
<li>Cosmos DB</li>
<li>Event Grid</li>
<li>Event Hubs</li>
</ul>
<p>If implementing in JavaScript, bindings are specified in <em>function.json</em> as shown in below example:</p>
<pre><code>{
    &quot;type&quot;: &quot;eventHubTrigger&quot;,
    &quot;name&quot;: &quot;eventHubMessages&quot;,
    &quot;direction&quot;: &quot;in&quot;,
    &quot;eventHubName&quot;: &quot;defaulthub&quot;,
    &quot;connection&quot;: &quot;eventsamples_defaultReadPolicy_EVENTHUB&quot;
}
</code></pre>
<p>Here, <code>eventsamples_defaultReadPolicy_EVENTHUB</code> refers to the Azure Function Application Setting that specifies the Event Hub Connection strings.  Similar binding definitions are available for other supported services.</p>
<p>It is possible to specify few other parameters in the binding definition.  For example, the above trigger binding for Event Hubs can include additional parameters for cardinality or the consumer group:</p>
<pre><code>{
    ...
    &quot;cardinality&quot;: &quot;many&quot;,
    &quot;consumerGroup&quot;: &quot;default&quot;
}
</code></pre>
<p>One issue arises if we wish to re-use the same function with only a single change that is the target consumer group. Ideally we would want to set the consumer group in an environmental variable in the application settings. How does one load in a consumer group from an Application setting?</p>
<p>Similar problem can occur with other binding sources.  For example, <code>path</code> setting for Blob storage, <code>databaseName</code> or <code>collectionName</code> for Cosmos DB.</p>
<p>A nice trick I recently found was to use binding expressions. In your function.json file, you can specify consumer group name inside % symbol:</p>
<pre><code>{
    ...
    &quot;consumerGroup&quot;: &quot;%customGroupName%&quot;
    ...
}
</code></pre>
<p>Then add an Application setting with corresponding name (<code>customGroupName</code> in this case):
<img src="../../static/Azure-Functions-Binding-Expressions-Parameterization/function-custom.png" alt="Alt">
<img src="../../static/Azure-Functions-Binding-Expressions-Parameterization/app-settings-custom.png" alt="Alt">
Consumer group will then be resolved to the value in Application Settings at startup.</p>
<p>Same method can be used for binding for other services and it works for trigger, input, and output bindings.</p>
<p>Hope this is helpful!</p>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>Permalink: </strong>
      <a href="https://borkod.github.io/2020/03/azure-functions-binding-expressions-parameterization/" title="Azure Functions Binding Expressions Parameterization" target="_blank" rel="external">https://borkod.github.io/2020/03/azure-functions-binding-expressions-parameterization/</a>
    </li>
    <li class="post-copyright-license">
      <strong>License：</strong><a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://borkod.github.io/" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://borkod.github.io/profile.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://borkod.github.io/" target="_blank"><span class="text-dark">Borko D.</span><small class="ml-1x">Cloud Solutions Architect</small></a></h3>
        <div>Cloud Solutions Architect</div>
      </div>
    </figure>
  </div>
</div>
    </div>
  </article>
<section id="comments">
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://borkod.github.io/2020/01/microsoft-ignite-the-tour-toronto-recap/" title="Microsoft Ignite the Tour: Toronto Recap"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;Older</span></a>
            </li>
        </ul>
        <div class="bar-right">
            <div class="share-component" data-sites="twitter, linkedin"
                data-mobile-sites="twitter,linkedin"></div>
        </div>
    </div>
</nav>

</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/borkod" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://linkedin.com/borkod" target="_blank" title="linkedin" data-toggle=tooltip data-placement=top >
            <i class="icon icon-linkedin"></i></a></li>
    <li><a href="https://twitter.com/borkod" target="_blank" title="twitter" data-toggle=tooltip data-placement=top >
            <i class="icon icon-twitter"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2019  -
    2020
    
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="https://borkod.github.io/js/application.min.bdeb64b910570b6c41badc6a05b7afb0c8ad9efd8525de3c7257d59e786326a3.js"></script>
<script src="https://borkod.github.io/js/plugin.min.51ff8c7317566f82259170fa36e09c4493adc9b9378b427a01ad3f017ebac7dd.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            ROOT_URL: 'https:\/\/borkod.github.io\/',
            CONTENT_URL: 'https:\/\/borkod.github.io\/\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="https://borkod.github.io/js/insight.min.a343cd9a5a7698336b28ef3a7c16a3a1b1d2d5fb17dc8ed04022bbe08cc5459073a15bdafa3a8a58cdd56080784bdd69fa70b1ae8597565c799c57ed00f0e120.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js" defer></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '00396fcd7dbd4f0e34b8',
        clientSecret: '7bce4ecf8ab35c2f966de08c5a6ffbfaebdd9dc0',
        repo: 'borkod.github.io',
        owner: 'borkod',
        admin: ['borkod'],
        id: md5(location.pathname),
        distractionFreeMode: true
    });
    gitalk.render('comments');
</script>
  </body>
</html>
